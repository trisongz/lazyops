---
description: This policy outlines the requirements for testing code changes in the project.
globs: **/*.py
alwaysApply: true
---

# Testing Policy

**Rule:** All significant code changes (bug fixes, new features, refactoring affecting behavior) MUST be accompanied by corresponding tests.

**Test Location:**
*   New tests related to changes or new features should be placed within the `tests/new/` directory.
*   Organize tests within `tests/new/` logically, potentially mirroring the structure of `src/lzl/` or `src/lzo/` if appropriate (e.g., `tests/new/lzl/types/test_properties.py`).
*   Existing tests related to modified code (e.g., in `tests/lzl/`) should be updated or verified.

**Testing Framework:**
*   Use `pytest` as the primary testing framework.
*   Write clear, focused test functions starting with `test_`.
*   Use fixtures for setup and teardown where applicable.
*   Ensure tests cover:
    *   Expected successful execution paths.
    *   Edge cases and boundary conditions.
    *   Expected failure modes and exception handling.

**Interaction:**
When making code changes, you must write or update tests for the affected functionality according to this policy, placing new tests in `tests/new/`. 